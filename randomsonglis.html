<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ä¸»æ’­æ­Œæ›²éš¨æ©Ÿå™¨</title>
  <style>
    body { font-family: "Microsoft JhengHei", sans-serif; background: #f4f4f9; padding: 20px; }
    .container { max-width: 950px; margin: 0 auto; text-align: center; }
    h1 { color: #333; }
    .controls { display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; margin-top: 12px; }
    select, input[type="text"], button, textarea { padding: 10px; border-radius: 8px; border: 1px solid #ddd; font-size: 14px; }
    button { background: #4CAF50; color: white; border: none; cursor: pointer; }
    button:hover { background: #45a049; }
    .box { background: white; padding: 18px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.12); margin-top: 18px; text-align: left; }
    #playlist { margin-top: 10px; }
    #randomSong { font-weight: bold; font-size: 18px; color: #e91e63; margin: 10px 0; }
    .small { font-size: 13px; color: #666; }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ¶ ä¸»æ’­æ­Œæ›²éš¨æ©Ÿå™¨ ğŸ¶</h1>

    <div class="controls">
      <label>
        é¸æ“‡ä¸»æ’­ï¼š
        <select id="anchorSelect"></select>
      </label>
      <input type="text" id="anchorSearch" placeholder="æœå°‹ä¸»æ’­åç¨±" />
      <button id="shuffleBtn">ç”Ÿæˆéš¨æ©Ÿæ­Œå–®</button>
      <button id="pickOneBtn">éš¨æ©ŸæŠ½ä¸€é¦–æ­Œ</button>
    </div>

    <div class="box">
      <div id="randomSong"></div>
      <h3>æ­Œå–®å…§å®¹</h3>
      <ol id="playlist"></ol>
    </div>

    <div class="box">
      <h3>æœå°‹æ­Œæ›²åœ¨å“ªäº›ä¸»æ’­æ­Œå–®</h3>
      <input id="searchInput" type="text" placeholder="è¼¸å…¥æ­Œåï¼ˆæŒ‰Enteræˆ–é»æœå°‹ï¼‰" />
      <button id="searchBtn">æœå°‹</button>
      <ul id="searchResults"></ul>
    </div>
    
    <div class="box" >
  <h3>æ­Œå–®ç®¡ç†(!!æ¸¬è©¦ä¸­!!)</h3>
  <p>ç›®å‰æ˜¯æœ¬åœ°"ç¶²é æª”æ¡ˆ"ç®¡ç†ï¼Œä¸æœƒå½±éŸ¿å…¶ä»–ç”¨æˆ¶ä½¿ç”¨</p>
  <p>å¯ä»¥ä½¿ç”¨çœ‹çœ‹ï¼Œéœ€ä¿®æ”¹æ­Œå–®è«‹ç™¼ç§ä¿¡çµ¦tu.en~</p>
  <p class="small">é¸æ“‡ä¸»æ’­ï¼Œè¼¸å…¥è¦æ–°å¢æˆ–åˆªé™¤çš„æ­Œæ›²ï¼ˆå¤šé¦–ä»¥ç©ºæ ¼å€éš”ï¼‰ã€‚</p>
  <label>é¸æ“‡ä¸»æ’­ï¼š <select id="manageAnchor"></select></label><br><br>
  <input id="manageSongs" type="text" placeholder="è¼¸å…¥æ­Œæ›²åç¨±ï¼Œä»¥ç©ºæ ¼åˆ†éš”" style="width:60%" />
  <button id="addSongsBtn">æ–°å¢æ­Œæ›²</button>
  <button id="removeSongsBtn">åˆªé™¤æ­Œæ›²</button>

  
</div>



  </div>

  <script>
    // ä¸»æ’­æ­Œå–®è³‡æ–™
    const anchors = {
      "è«‹é¸æ“‡ä¸»æ’­å": [
      ],
      "å°éŸ“": [
        "ç‰¹åˆ¥çš„äºº", "å—å”", "å˜‰è³“", "é‚£å¥³å­©å°æˆ‘èªª", "å¦‚æœæ„›å¿˜äº†", "å¤šå¹¸é‹", "æœ€å¾Œä¸€é ",
        "ä¸‹ä¸€å€‹å¤©äº®", "åå¹´", "æˆ‘çŸ¥é“", "é–“è·", "ä¸€å€‹äººæƒ³ç€ä¸€å€‹äºº", "å°ç¾æ»¿", "å¿ƒç‰†",
        "æˆ‘åªèƒ½é›¢é–‹", "æŒ‡ç´‹", "å¤å¤œæœ€å¾Œçš„ç…™ç«", "å—œå¥½", "å’Œä½ ", "ä¸ƒé‡Œé¦™", "å°å¹¸é‹",
        "å—å±±å—", "æ„›çš„å›æ­¸ç·š", "æŠŠå›æ†¶æ‹¼å¥½çµ¦ä½ ", "æˆ‘è½æ·šæƒ…ç·’é›¶ç¢", "éœæ‚„æ‚„"
      ],
      "å­æ˜.ğŸª": [
        "å¤šå¹¸é‹", "æ„›å°±ä¸€å€‹å­—", "è€ç”·å­©", "æ˜¥æ³¥", "æ„›éŒ¯", "ç‰¹åˆ¥çš„äºº", "æ·˜æ±°", "æ¼”å“¡",
        "æˆéƒ½", "æ±Ÿå—", "é»ƒæ˜", "å¯ä¸å¯ä»¥", "æˆ’ç…™", "å—å±±å—", "ä¸å°‡å°±", "éç«", "åœ¨ä½ çš„èº«é‚Š",
        "åå¹´", "æˆ‘æƒ³å¿µ", "æˆ‘å€‘å€†", "ä¸€æ¬¡å°±å¥½", "ç„¡åçš„äºº", "äº”åå¹´ä»¥å¾Œ", "æˆ‘å€‘çš„æ˜å¤©",
        "ç¨»é¦™", "æš–ä¸€æ¯èŒ¶", "åº§ä½", "æ„›ä¸€å€‹äººå¥½é›£", "åƒé‡‘æ•£ç›¡"
      ],
      "æ£®æœ": [
        "å¤ªå‚»", "æœ€åçš„äºº", "æ…¢å†·", "Dear john", "å¯‚å¯æ‰è¯´çˆ±", "ç‰¹åˆ«çš„äºº", "å†è§",
        "éº»é›€", "çˆ±å°±ä¸€ä¸ªå­—", "éœ€è¦äººé™ª", "æˆ’çƒŸ", "æ˜¥æ³¥", "æ­¤ç”Ÿä¸æ¢", "åå¹´",
        "é‡è§", "å¥½ä¹…ä¸è§", "æˆéƒ½", "å¹³å‡¡ä¹‹è·¯", "æ²¡é‚£ä¹ˆç®€å•", "ä½ ä¸çŸ¥é“çš„äº‹",
        "ä¸å°†å°±", "å¥³å­©", "å—å±±å—", "è¾¾å°”æ–‡", "å”¯ä¸€", "æ°¸ä¸å¤±è”çš„çˆ±"
      ],
      "å°å‡±": [
        "èŠ±æµ·","ä½ æ˜¯æˆ‘çš„é£æ™¯","æ²¦é™·","æˆ‘ä»¬çš„æ­Œ","åƒæˆ‘è¿™æ ·çš„äºº","è€ç”·å­©","æ°´æ˜Ÿè®°","å¹³å‡¡ä¹‹è·¯",
        "ä½ è¿˜è¦æˆ‘æ€æ ·","çˆ±æˆ‘è¿˜æ˜¯ä»–","ç¬¬äº”åä¸ƒæ¬¡å–æ¶ˆå‘é€","æœ€åä¸€é¡µ","ä¸‘å…«æ€ª","å¦ˆå¦ˆçš„è¯","å¯ä¸å¯ä»¥",
        "å¤šè¿œéƒ½è¦åœ¨ä¸€èµ·","æˆ‘æ˜¯å¦‚æ­¤ç›¸ä¿¡","æ— åçš„äºº","å‡„ç¾åœ°","ç¾äººé±¼","çˆ±é”™","æ— äººä¹‹å²›","æ¼”å‘˜","åçˆ±","æŒ‡çº¹","å†è§",
      ],
       "ææ£•è¡¡": [
        "åƒè¯­","é’èŠ±ç“·","åœ¨ä½ çš„èº«è¾¹","ä¸å°†å°±","ä¸ƒé‡Œé¦™","å‘Šç™½æ°”çƒ","é‚£å¥³å­©å¯¹æˆ‘è¯´","çˆ±æƒ…è½¬ç§»",
        "ä»–ä¸æ‡‚","ä¸‹ä¸€ä¸ªå¤©äº®","å°é•‡å§‘å¨˜","å¥¹è¯´","é™ªä½ åº¦è¿‡æ¼«é•¿å²æœˆ","å¤§åŸå°çˆ±","æ¶ˆæ„","ç‰¹åˆ«çš„äºº",
        "æˆ’çƒŸ","ç¨»é¦™","æˆéƒ½","å¹³å‡¡ä¹‹è·¯","å°å¹¸è¿","æ˜¥æ³¥","æ¼‚æ´‹è¿‡æµ·æ¥çœ‹ä½ ","å¹´è½®","åå¹´","ä¸€æ¬¡å°±å¥½",
        "æš–ä¸€æ¯èŒ¶","å˜‰å®¾","èƒŒå¯¹èƒŒæ‹¥æŠ±æ±Ÿå—","æ±Ÿå—","è‰³ç«","é‚£äº›ä½ å¾ˆå†’é™©çš„æ¢¦","é™·é˜±",
      ],
    };

    const anchorSelect = document.getElementById('anchorSelect');
    const manageAnchor = document.getElementById('manageAnchor');
    const playlistEl = document.getElementById('playlist');
    const randomSongEl = document.getElementById('randomSong');
    const searchInput = document.getElementById('searchInput');
    const searchResults = document.getElementById('searchResults');
    const anchorSearch = document.getElementById('anchorSearch');

    function refreshAnchorSelects() {
      [anchorSelect, manageAnchor].forEach(select => {
        select.innerHTML = '';
        Object.keys(anchors).forEach(name => {
          const opt = document.createElement('option');
          opt.value = name;
          opt.textContent = name;
          select.appendChild(opt);
        });
      });
    }

    function renderPlaylist() {
      const name = anchorSelect.value;
      const list = anchors[name] || [];
      playlistEl.innerHTML = '';
      list.forEach(song => {
        const li = document.createElement('li');
        li.textContent = song;
        playlistEl.appendChild(li);
      });
    }

    function shuffleArray(arr) {
      const a = [...arr];
      for (let i = a.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [a[i], a[j]] = [a[j], a[i]];
      }
      return a;
    }

    function shuffleSongs() {
      const list = anchors[anchorSelect.value] || [];
      const shuffled = shuffleArray(list);
      playlistEl.innerHTML = '';
      shuffled.forEach(song => {
        const li = document.createElement('li');
        li.textContent = song;
        playlistEl.appendChild(li);
      });
      randomSongEl.textContent = '';
    }

    function pickOneSong() {
      const list = anchors[anchorSelect.value] || [];
      if (!list.length) { randomSongEl.textContent = 'ç›®å‰æ­Œå–®æ²’æœ‰æ­Œæ›²ã€‚'; return; }
      const song = list[Math.floor(Math.random() * list.length)];
      randomSongEl.textContent = 'ğŸµ æŠ½åˆ°çš„æ­Œæ˜¯ï¼šã€Œ' + song + 'ã€';
    }

    function searchSong() {
      const q = searchInput.value.trim();
      if (!q) { searchResults.innerHTML = '<li>è«‹è¼¸å…¥æ­Œå</li>'; return; }
      const results = [];
      Object.keys(anchors).forEach(name => {
        anchors[name].forEach(song => {
          if (song.includes(q)) {
            results.push({ song, anchor: name });
          }
        });
      });
      if (!results.length) {
        searchResults.innerHTML = '<li>æ‰¾ä¸åˆ°ç¬¦åˆçš„æ­Œæ›²</li>';
      } else {
        searchResults.innerHTML = '';
        results.forEach(r => {
          const li = document.createElement('li');
          li.textContent = r.song + ' â€” åœ¨ ' + r.anchor;
          searchResults.appendChild(li);
        });
      }
    }

    function addSongs() {
      const name = manageAnchor.value;
      const input = document.getElementById('manageSongs').value.trim();
      if (!input) { alert('è«‹è¼¸å…¥æ­Œæ›²'); return; }
      const songs = input.split(/\s+/);
      songs.forEach(song => {
        if (!anchors[name].includes(song)) {
          anchors[name].push(song);
        }
      });
      renderPlaylist();
      alert('å·²æ–°å¢æ­Œæ›²åˆ° ' + name);
    }

    function removeSongs() {
      const name = manageAnchor.value;
      const input = document.getElementById('manageSongs').value.trim();
      if (!input) { alert('è«‹è¼¸å…¥æ­Œæ›²'); return; }
      const songs = input.split(/\s+/);
      anchors[name] = anchors[name].filter(song => !songs.includes(song));
      renderPlaylist();
      alert('å·²åˆªé™¤æ­Œæ›²å¾ ' + name);
    }

    // ä¸»æ’­æœå°‹åŠŸèƒ½
    anchorSearch.addEventListener('input', () => {
      const q = anchorSearch.value.trim();
      if (!q) return;
      const found = Object.keys(anchors).find(name => name.includes(q));
      if (found) {
        anchorSelect.value = found;
        renderPlaylist();
      }
    });

    // ç¶å®šäº‹ä»¶
    document.getElementById('shuffleBtn').addEventListener('click', shuffleSongs);
    document.getElementById('pickOneBtn').addEventListener('click', pickOneSong);
    document.getElementById('searchBtn').addEventListener('click', searchSong);
    searchInput.addEventListener('keydown', (e) => { if (e.key === 'Enter') searchSong(); });
    document.getElementById('addSongsBtn').addEventListener('click', addSongs);
    document.getElementById('removeSongsBtn').addEventListener('click', removeSongs);

    // åˆå§‹åŒ–
    refreshAnchorSelects();
    anchorSelect.addEventListener('change', renderPlaylist);
    anchorSelect.selectedIndex = 0;
    renderPlaylist();
  </script>
</body>
</html>

